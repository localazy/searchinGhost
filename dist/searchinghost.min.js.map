{"version":3,"sources":["webpack://SearchinGhost/webpack/bootstrap","webpack://SearchinGhost/./node_modules/flexsearch/dist/flexsearch.min.js","webpack://SearchinGhost/./node_modules/localforage/dist/localforage.js","webpack://SearchinGhost/./src/searchinghost.js","webpack://SearchinGhost/(webpack)/buildin/global.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","K","R","w","L","define","amd","toLowerCase","ma","a","b","id","this","na","init","fa","keys","index","length","u","g","concat","cache","j","set","F","W","O","e","f","h","P","k","ha","page","next","result","where","Array","M","split","oa","pa","sort","T","RegExp","Q","replace","V","ba","splice","G","ca","qa","v","x","I","D","N","da","X","ea","Y","y","B","E","parseInt","C","J","ra","q","A","z","Z","slice","constructor","ia","sa","self","onmessage","data","search","content","threshold","limit","postMessage","add","update","remove","clear","info","worker","console","log","register","options","async","Function","substring","indexOf","lastIndexOf","ta","cursor","suggest","toString","H","encode","depth","ja","memory","speed","match","score","balance","fast","aa","ka","la","registerMatcher","push","registerEncoder","U","registerLanguage","filter","stemmer","preset","Worker","tokenize","rtl","Promise","resolution","matcher","addMatcher","lang","doc","S","field","tag","store","ua","importScripts","setTimeout","then","_ctx","query","callback","bool","all","apply","find","items","contextual","destroy","serialize","JSON","stringify","parse","va","icase","simple","advanced","extra","join","count","Blob","URL","createObjectURL","type","Error","code","1","_dereq_","global","scheduleDrain","draining","Mutation","MutationObserver","WebKitMutationObserver","called","observer","nextTick","element","document","createTextNode","observe","characterData","setImmediate","MessageChannel","createElement","scriptEl","onreadystatechange","parentNode","removeChild","documentElement","appendChild","channel","port1","port2","queue","oldQueue","len","task","window","2","immediate","INTERNAL","handlers","REJECTED","FULFILLED","PENDING","resolver","TypeError","state","outcome","safelyResolveThenable","QueueItem","promise","onFulfilled","onRejected","callFulfilled","otherCallFulfilled","callRejected","otherCallRejected","unwrap","func","returnValue","reject","resolve","getThen","obj","arguments","thenable","onError","onSuccess","tryCatch","status","out","error","reason","iterable","values","resolved","allResolver","outValue","race","response","3","4","_typeof","iterator","idb","indexedDB","webkitIndexedDB","mozIndexedDB","OIndexedDB","msIndexedDB","getIDB","createBlob","parts","properties","builder","BlobBuilder","MSBlobBuilder","MozBlobBuilder","WebKitBlobBuilder","append","getBlob","Promise$1","executeCallback","executeTwoCallbacks","errorCallback","normalizeKey","warn","String","getCallback","supportsBlobs","dbContexts","_checkBlobSupport","txn","transaction","blob","objectStore","put","onabort","preventDefault","stopPropagation","oncomplete","matchedChrome","navigator","userAgent","matchedEdge","_checkBlobSupportWithoutCaching","_deferReadiness","dbInfo","dbContext","deferredOperation","deferredOperations","dbReady","_advanceReadiness","pop","_rejectReadiness","err","_getConnection","upgradeNeeded","forages","db","close","dbArgs","version","openreq","open","onupgradeneeded","createObjectStore","storeName","oldVersion","ex","newVersion","onerror","onsuccess","_getOriginalConnection","_getUpgradedConnection","_isUpgradeNeeded","defaultVersion","isNewStore","objectStoreNames","contains","isDowngrade","isUpgrade","incVersion","_decodeBlob","encodedBlob","bin","buf","ArrayBuffer","arr","Uint8Array","charCodeAt","_binStringToArrayBuffer","atob","_isEncodedBlob","__local_forage_encoded_blob","_fullyReady","_initReady","_dbInfo","createTransaction","retries","undefined","tx","forage","_tryReconnect","asyncStorage","_driver","_initStorage","ready","initPromises","ignoreErrors","_defaultConfig","_support","isSafari","openDatabase","test","platform","hasFetch","fetch","IDBKeyRange","isIndexedDBValid","iterate","req","openCursor","iterationNumber","getItem","setItem","blobSupport","reader","FileReader","onloadend","base64","btoa","target","readAsBinaryString","removeItem","openKeyCursor","advance","dropInstance","currentConfig","config","isCurrentDb","dbPromise","deleteObjectStore","_forage2","deleteDatabase","onblocked","BASE_CHARS","BLOB_TYPE_PREFIX_REGEX","SERIALIZED_MARKER_LENGTH","TYPE_SERIALIZED_MARKER_LENGTH","toString$1","stringToBuffer","serializedString","encoded1","encoded2","encoded3","encoded4","bufferLength","buffer","bytes","bufferToString","base64String","localforageSerializer","valueType","marker","fileReader","onload","str","SERIALIZED_MARKER","readAsArrayBuffer","deserialize","blobType","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","createDbTable","executeSql","tryExecuteSql","sqlStatement","args","SYNTAX_ERR","results","rows","_setItem","retriesLeft","originalValue","serializer","sqlError","QUOTA_ERR","getAllStoreNames","storeNames","item","webSQLStorage","dbInfoPromise","description","size","operationInfo","dropTable","operations","_getKeyPrefix","defaultConfig","keyPrefix","_isLocalStorageUsable","localStorage","checkIfLocalStorageThrows","localStorageWrapper","isLocalStorageValid","keyPrefixLength","itemKey","includes","array","searchElement","isNaN","isArray","arg","DefinedDrivers","DriverSupport","DefaultDrivers","INDEXEDDB","WEBSQL","LOCALSTORAGE","DefaultDriverOrder","OptionalDriverMethods","LibraryMethods","DefaultConfig","driver","callWhenReady","localForageInstance","libraryMethod","_args","extend","_key","localforage_js","LocalForage","driverTypeKey","instance","Constructor","_classCallCheck","driverName","defineDriver","_config","_driverSet","_initDriver","_ready","_wrapLibraryMethodsWithReady","setDriver","driverObject","complianceError","driverMethods","driverMethodName","methodNotImplementedFactory","methodName","_i","_len","optionalDriverMethod","configureMissingMethods","setDriverSupport","support","getDriver","getDriverPromise","getSerializer","serializerPromise","drivers","supportedDrivers","_getSupportedDrivers","setDriverToConfig","extendSelfWithDriver","_extend","oldDriverSetDone","currentDriverIndex","driverPromiseLoop","initDriver","supports","libraryMethodsAndProperties","createInstance","SearchinGhost","url","location","origin","loadOn","searchOn","inputId","outputId","outputChildsType","postsFields","postsExtraFields","postsFormats","indexedFields","template","post","feature_image","tags","published_at","title","emptyTemplate","customProcessing","string_tags","map","date","locale","year","month","day","cacheMaxAge","onFetchStart","onFetchEnd","posts","onIndexBuildStart","onIndexBuildEnd","onSearchStart","onSearchEnd","indexOptions","searchOptions","debug","dataLoaded","postsCount","storage","localforage","initConfig","triggerDataLoad","entries","originalPostsFields","searchBarEls","forEach","searchBar","getElementById","addSearchListeners","searchResultEls","searchResult","getNewSearchIndex","searchBarEl","searchForm","closest","addEventListener","ev","inputQuery","loadData","storedIndex","validateCache","cacheInfoString","cacheInfo","lastUpdate","Date","lastCacheCheck","elapsedTime","Math","round","browseOptions","fields","order","lastUpdatedPostUrl","buildUrl","json","jsonResponse","lastestPostUpdatedAt","updated_at","totalPosts","meta","pagination","total","toISOString","include","formats","allPostsUrl","formattedPost","format","prettyDate","custom_excerpt","excerpt","postsFound","display","resultEl","innerHTML","insertTemplate","generatedHtml","child","classList","insertAdjacentHTML","indexConfig","FlexSearch","encodeURI","toLocaleDateString"],"mappings":"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","file":"searchinghost.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","/*\n FlexSearch v0.6.30\n Copyright 2019 Nextapps GmbH\n Author: Thomas Wilkerling\n Released under the Apache 2.0 Licence\n https://github.com/nextapps-de/flexsearch\n*/\n'use strict';(function(K,R,w){let L;(L=w.define)&&L.amd?L([],function(){return R}):(L=w.modules)?L[K.toLowerCase()]=R:\"object\"===typeof exports?module.exports=R:w[K]=R})(\"FlexSearch\",function ma(K){function w(a,c){const b=c?c.id:a&&a.id;this.id=b||0===b?b:na++;this.init(a,c);fa(this,\"index\",function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].c):Object.keys(this.c)});fa(this,\"length\",function(){return this.index.length})}function L(a,c,b,d){this.u!==this.g&&(this.o=this.o.concat(b),this.u++,\nd&&this.o.length>=d&&(this.u=this.g),this.u===this.g&&(this.cache&&this.j.set(c,this.o),this.F&&this.F(this.o)));return this}function S(a){const c=B();for(const b in a)if(a.hasOwnProperty(b)){const d=a[b];F(d)?c[b]=d.slice(0):G(d)?c[b]=S(d):c[b]=d}return c}function W(a,c){const b=a.length,d=O(c),e=[];for(let f=0,h=0;f<b;f++){const g=a[f];if(d&&c(g)||!d&&!c[g])e[h++]=g}return e}function P(a,c,b,d,e,f,h,g,k,l){b=ha(b,h?0:e,g,f,c,k,l);let p;g&&(g=b.page,p=b.next,b=b.result);if(h)c=this.where(h,null,\ne,b);else{c=b;b=this.l;e=c.length;f=Array(e);for(h=0;h<e;h++)f[h]=b[c[h]];c=f}b=c;d&&(O(d)||(M=d.split(\":\"),1<M.length?d=oa:(M=M[0],d=pa)),b.sort(d));b=T(g,p,b);this.cache&&this.j.set(a,b);return b}function fa(a,c,b){Object.defineProperty(a,c,{get:b})}function r(a){return new RegExp(a,\"g\")}function Q(a,c){for(let b=0;b<c.length;b+=2)a=a.replace(c[b],c[b+1]);return a}function V(a,c,b,d,e,f,h,g){if(c[b])return c[b];e=e?(g-(h||g/1.5))*f+(h||g/1.5)*e:f;c[b]=e;e>=h&&(a=a[g-(e+.5>>0)],a=a[b]||(a[b]=[]),\na[a.length]=d);return e}function ba(a,c){if(a){const b=Object.keys(a);for(let d=0,e=b.length;d<e;d++){const f=b[d],h=a[f];if(h)for(let g=0,k=h.length;g<k;g++)if(h[g]===c){1===k?delete a[f]:h.splice(g,1);break}else G(h[g])&&ba(h[g],c)}}}function ca(a){let c=\"\",b=\"\";var d=\"\";for(let e=0;e<a.length;e++){const f=a[e];if(f!==b)if(e&&\"h\"===f){if(d=\"a\"===d||\"e\"===d||\"i\"===d||\"o\"===d||\"u\"===d||\"y\"===d,(\"a\"===b||\"e\"===b||\"i\"===b||\"o\"===b||\"u\"===b||\"y\"===b)&&d||\" \"===b)c+=f}else c+=f;d=e===a.length-1?\"\":a[e+\n1];b=f}return c}function qa(a,c){a=a.length-c.length;return 0>a?1:a?-1:0}function pa(a,c){a=a[M];c=c[M];return a<c?-1:a>c?1:0}function oa(a,c){const b=M.length;for(let d=0;d<b;d++)a=a[M[d]],c=c[M[d]];return a<c?-1:a>c?1:0}function T(a,c,b){return a?{page:a,next:c?\"\"+c:null,result:b}:b}function ha(a,c,b,d,e,f,h){let g,k=[];if(!0===b){b=\"0\";var l=\"\"}else l=b&&b.split(\":\");const p=a.length;if(1<p){const y=B(),t=[];let v,x;var n=0,m;let I;var u=!0;let D,E=0,N,da,X,ea;l&&(2===l.length?(X=l,l=!1):l=ea=\nparseInt(l[0],10));if(h){for(v=B();n<p;n++)if(\"not\"===e[n])for(x=a[n],I=x.length,m=0;m<I;m++)v[\"@\"+x[m]]=1;else da=n+1;if(C(da))return T(b,g,k);n=0}else N=J(e)&&e;let Y;for(;n<p;n++){const ra=n===(da||p)-1;if(!N||!n)if((m=N||e&&e[n])&&\"and\"!==m)if(\"or\"===m)Y=!1;else continue;else Y=f=!0;x=a[n];if(I=x.length){if(u)if(D){var q=D.length;for(m=0;m<q;m++){u=D[m];var A=\"@\"+u;h&&v[A]||(y[A]=1,f||(k[E++]=u))}D=null;u=!1}else{D=x;continue}A=!1;for(m=0;m<I;m++){q=x[m];var z=\"@\"+q;const Z=f?y[z]||0:n;if(!(!Z&&\n!d||h&&v[z]||!f&&y[z]))if(Z===n){if(ra){if(!ea||--ea<E)if(k[E++]=q,c&&E===c)return T(b,E+(l||0),k)}else y[z]=n+1;A=!0}else d&&(z=t[Z]||(t[Z]=[]),z[z.length]=q)}if(Y&&!A&&!d)break}else if(Y&&!d)return T(b,g,x)}if(D)if(n=D.length,h)for(m=l?parseInt(l,10):0;m<n;m++)a=D[m],v[\"@\"+a]||(k[E++]=a);else k=D;if(d)for(E=k.length,X?(n=parseInt(X[0],10)+1,m=parseInt(X[1],10)+1):(n=t.length,m=0);n--;)if(q=t[n]){for(I=q.length;m<I;m++)if(d=q[m],!h||!v[\"@\"+d])if(k[E++]=d,c&&E===c)return T(b,n+\":\"+m,k);m=0}}else!p||\ne&&\"not\"===e[0]||(k=a[0],l&&(l=parseInt(l[0],10)));c&&(h=k.length,l&&l>h&&(l=0),l=l||0,g=l+c,g<h?k=k.slice(l,g):(g=0,l&&(k=k.slice(l))));return T(b,g,k)}function J(a){return\"string\"===typeof a}function F(a){return a.constructor===Array}function O(a){return\"function\"===typeof a}function G(a){return\"object\"===typeof a}function C(a){return\"undefined\"===typeof a}function ia(a){const c=Array(a);for(let b=0;b<a;b++)c[b]=B();return c}function B(){return Object.create(null)}function sa(){let a,c;self.onmessage=\nfunction(b){if(b=b.data)if(b.search){const d=c.search(b.content,b.threshold?{limit:b.limit,threshold:b.threshold,where:b.where}:b.limit);self.postMessage({id:a,content:b.content,limit:b.limit,result:d})}else b.add?c.add(b.id,b.content):b.update?c.update(b.id,b.content):b.remove?c.remove(b.id):b.clear?c.clear():b.info?(b=c.info(),b.worker=a,console.log(b)):b.register&&(a=b.id,b.options.cache=!1,b.options.async=!1,b.options.worker=!1,c=(new Function(b.register.substring(b.register.indexOf(\"{\")+1,b.register.lastIndexOf(\"}\"))))(),\nc=new c(b.options))}}function ta(a,c,b,d){a=K(\"flexsearch\",\"id\"+a,sa,function(f){(f=f.data)&&f.result&&d(f.id,f.content,f.result,f.limit,f.where,f.cursor,f.suggest)},c);const e=ma.toString();b.id=c;a.postMessage({register:e,options:b,id:c});return a}const H={encode:\"icase\",f:\"forward\",split:/\\W+/,cache:!1,async:!1,g:!1,D:!1,a:!1,b:9,threshold:0,depth:0},ja={memory:{encode:\"extra\",f:\"strict\",threshold:0,b:1},speed:{encode:\"icase\",f:\"strict\",threshold:1,b:3,depth:2},match:{encode:\"extra\",f:\"full\",threshold:1,\nb:3},score:{encode:\"extra\",f:\"strict\",threshold:1,b:9,depth:4},balance:{encode:\"balance\",f:\"strict\",threshold:0,b:3,depth:3},fast:{encode:\"icase\",f:\"strict\",threshold:8,b:9,depth:1}},aa=[];let na=0;const ka={},la={};w.create=function(a,c){return new w(a,c)};w.registerMatcher=function(a){for(const c in a)a.hasOwnProperty(c)&&aa.push(r(c),a[c]);return this};w.registerEncoder=function(a,c){U[a]=c.bind(U);return this};w.registerLanguage=function(a,c){ka[a]=c.filter;la[a]=c.stemmer;return this};w.encode=\nfunction(a,c){return U[a](c)};w.prototype.init=function(a,c){this.v=[];if(c){var b=c.preset;a=c}else a||(a=H),b=a.preset;c={};J(a)?(c=ja[a],a={}):b&&(c=ja[b]);if(b=a.worker)if(\"undefined\"===typeof Worker)a.worker=!1,this.m=null;else{var d=parseInt(b,10)||4;this.C=-1;this.u=0;this.o=[];this.F=null;this.m=Array(d);for(var e=0;e<d;e++)this.m[e]=ta(this.id,e,a,L.bind(this))}this.f=a.tokenize||c.f||this.f||H.f;this.split=C(b=a.split)?this.split||H.split:J(b)?r(b):b;this.D=a.rtl||this.D||H.D;this.async=\n\"undefined\"===typeof Promise||C(b=a.async)?this.async||H.async:b;this.g=C(b=a.worker)?this.g||H.g:b;this.threshold=C(b=a.threshold)?c.threshold||this.threshold||H.threshold:b;this.b=C(b=a.resolution)?b=c.b||this.b||H.b:b;b<=this.threshold&&(this.b=this.threshold+1);this.depth=\"strict\"!==this.f||C(b=a.depth)?c.depth||this.depth||H.depth:b;this.w=(b=C(b=a.encode)?c.encode||H.encode:b)&&U[b]&&U[b].bind(U)||(O(b)?b:this.w||!1);(b=a.matcher)&&this.addMatcher(b);if(b=(c=a.lang)||a.filter){J(b)&&(b=ka[b]);\nif(F(b)){d=this.w;e=B();for(var f=0;f<b.length;f++){var h=d?d(b[f]):b[f];e[h]=1}b=e}this.filter=b}if(b=c||a.stemmer){var g;c=J(b)?la[b]:b;d=this.w;e=[];for(g in c)c.hasOwnProperty(g)&&(f=d?d(g):g,e.push(r(f+\"($|\\\\W)\"),d?d(c[g]):c[g]));this.stemmer=g=e}this.a=e=(b=a.doc)?S(b):this.a||H.a;this.i=ia(this.b-(this.threshold||0));this.h=B();this.c=B();if(e){this.l=B();a.doc=null;g=e.index={};c=e.keys=[];d=e.field;f=e.tag;h=e.store;F(e.id)||(e.id=e.id.split(\":\"));if(h){var k=B();if(J(h))k[h]=1;else if(F(h))for(let l=\n0;l<h.length;l++)k[h[l]]=1;else G(h)&&(k=h);e.store=k}if(f){this.G=B();h=B();if(d)if(J(d))h[d]=a;else if(F(d))for(k=0;k<d.length;k++)h[d[k]]=a;else G(d)&&(h=d);F(f)||(e.tag=f=[f]);for(d=0;d<f.length;d++)this.G[f[d]]=B();this.I=f;d=h}if(d){let l;F(d)||(G(d)?(l=d,e.field=d=Object.keys(d)):e.field=d=[d]);for(e=0;e<d.length;e++)f=d[e],F(f)||(l&&(a=l[f]),c[e]=f,d[e]=f.split(\":\")),g[f]=new w(a)}a.doc=b}this.B=!0;this.j=(this.cache=b=C(b=a.cache)?this.cache||H.cache:b)?new ua(b):!1;return this};w.prototype.encode=\nfunction(a){a&&(aa.length&&(a=Q(a,aa)),this.v.length&&(a=Q(a,this.v)),this.w&&(a=this.w(a)),this.stemmer&&(a=Q(a,this.stemmer)));return a};w.prototype.addMatcher=function(a){const c=this.v;for(const b in a)a.hasOwnProperty(b)&&c.push(r(b),a[b]);return this};w.prototype.add=function(a,c,b,d,e){if(this.a&&G(a))return this.A(\"add\",a,c);if(c&&J(c)&&(a||0===a)){var f=\"@\"+a;if(this.c[f]&&!d)return this.update(a,c);if(this.g)return++this.C>=this.m.length&&(this.C=0),this.m[this.C].postMessage({add:!0,id:a,\ncontent:c}),this.c[f]=\"\"+this.C,b&&b(),this;if(!e){if(this.async&&\"function\"!==typeof importScripts){let t=this;f=new Promise(function(v){setTimeout(function(){t.add(a,c,null,d,!0);t=null;v()})});if(b)f.then(b);else return f;return this}if(b)return this.add(a,c,null,d,!0),b(),this}c=this.encode(c);if(!c.length)return this;b=this.f;e=O(b)?b(c):c.split(this.split);this.filter&&(e=W(e,this.filter));const n=B();n._ctx=B();const m=e.length,u=this.threshold,q=this.depth,A=this.b,z=this.i,y=this.D;for(let t=\n0;t<m;t++){var h=e[t];if(h){var g=h.length,k=(y?t+1:m-t)/m,l=\"\";switch(b){case \"reverse\":case \"both\":for(var p=g;--p;)l=h[p]+l,V(z,n,l,a,y?1:(g-p)/g,k,u,A-1);l=\"\";case \"forward\":for(p=0;p<g;p++)l+=h[p],V(z,n,l,a,y?(p+1)/g:1,k,u,A-1);break;case \"full\":for(p=0;p<g;p++){const v=(y?p+1:g-p)/g;for(let x=g;x>p;x--)l=h.substring(p,x),V(z,n,l,a,v,k,u,A-1)}break;default:if(g=V(z,n,h,a,1,k,u,A-1),q&&1<m&&g>=u)for(g=n._ctx[h]||(n._ctx[h]=B()),h=this.h[h]||(this.h[h]=ia(A-(u||0))),k=t-q,l=t+q+1,0>k&&(k=0),l>\nm&&(l=m);k<l;k++)k!==t&&V(h,g,e[k],a,0,A-(k<t?t-k:k-t),u,A-1)}}}this.c[f]=1;this.B=!1}return this};w.prototype.A=function(a,c,b){if(F(c)){var d=c.length;if(d--){for(var e=0;e<d;e++)this.A(a,c[e]);return this.A(a,c[d],b)}}else{var f=this.a.index,h=this.a.keys,g=this.a.tag;e=this.a.store;var k;var l=this.a.id;d=c;for(var p=0;p<l.length;p++)d=d[l[p]];if(\"remove\"===a&&(delete this.l[d],l=h.length,l--)){for(c=0;c<l;c++)f[h[c]].remove(d);return f[h[l]].remove(d,b)}if(g){for(k=0;k<g.length;k++){var n=g[k];\nvar m=c;l=n.split(\":\");for(p=0;p<l.length;p++)m=m[l[p]];m=\"@\"+m}k=this.G[n];k=k[m]||(k[m]=[])}l=this.a.field;for(let u=0,q=l.length;u<q;u++){n=l[u];g=c;for(m=0;m<n.length;m++)g=g[n[m]];n=f[h[u]];m=\"add\"===a?n.add:n.update;u===q-1?m.call(n,d,g,b):m.call(n,d,g)}if(e){b=Object.keys(e);a=B();for(f=0;f<b.length;f++)if(h=b[f],e[h]){h=h.split(\":\");let u,q;for(l=0;l<h.length;l++)g=h[l],u=(u||c)[g],q=(q||a)[g]=u}c=a}k&&(k[k.length]=c);this.l[d]=c}return this};w.prototype.update=function(a,c,b){if(this.a&&\nG(a))return this.A(\"update\",a,c);this.c[\"@\"+a]&&J(c)&&(this.remove(a),this.add(a,c,b,!0));return this};w.prototype.remove=function(a,c,b){if(this.a&&G(a))return this.A(\"remove\",a,c);var d=\"@\"+a;if(this.c[d]){if(this.g)return this.m[this.c[d]].postMessage({remove:!0,id:a}),delete this.c[d],c&&c(),this;if(!b){if(this.async&&\"function\"!==typeof importScripts){let e=this;d=new Promise(function(f){setTimeout(function(){e.remove(a,null,!0);e=null;f()})});if(c)d.then(c);else return d;return this}if(c)return this.remove(a,\nnull,!0),c(),this}for(c=0;c<this.b-(this.threshold||0);c++)ba(this.i[c],a);this.depth&&ba(this.h,a);delete this.c[d];this.B=!1}return this};let M;w.prototype.search=function(a,c,b,d){if(G(c)){if(F(c))for(var e=0;e<c.length;e++)c[e].query=a;else c.query=a;a=c;c=1E3}else c&&O(c)?(b=c,c=1E3):c||0===c||(c=1E3);if(this.g){this.F=b;this.u=0;this.o=[];for(var f=0;f<this.g;f++)this.m[f].postMessage({search:!0,limit:c,content:a})}else{var h=[],g=a;if(G(a)&&!F(a)){b||(b=a.callback)&&(g.callback=null);var k=\na.sort;var l=a.page;c=a.limit;f=a.threshold;var p=a.suggest;a=a.query}if(this.a){f=this.a.index;const y=g.where;var n=g.bool||\"or\",m=g.field;let t=n;let v,x;if(m)F(m)||(m=[m]);else if(F(g)){var u=g;m=[];t=[];for(var q=0;q<g.length;q++)d=g[q],e=d.bool||n,m[q]=d.field,t[q]=e,\"not\"===e?v=!0:\"and\"===e&&(x=!0)}else m=this.a.keys;n=m.length;for(q=0;q<n;q++)u&&(g=u[q]),l&&!J(g)&&(g.page=null,g.limit=0),h[q]=f[m[q]].search(g,0);if(b)return b(P.call(this,a,t,h,k,c,p,y,l,x,v));if(this.async){const I=this;return new Promise(function(D){Promise.all(h).then(function(E){D(P.call(I,\na,t,E,k,c,p,y,l,x,v))})})}return P.call(this,a,t,h,k,c,p,y,l,x,v)}f||(f=this.threshold||0);if(!d){if(this.async&&\"function\"!==typeof importScripts){let y=this;f=new Promise(function(t){setTimeout(function(){t(y.search(g,c,null,!0));y=null})});if(b)f.then(b);else return f;return this}if(b)return b(this.search(g,c,null,!0)),this}if(!a||!J(a))return h;g=a;if(this.cache)if(this.B){if(b=this.j.get(a))return b}else this.j.clear(),this.B=!0;g=this.encode(g);if(!g.length)return h;b=this.f;b=O(b)?b(g):g.split(this.split);\nthis.filter&&(b=W(b,this.filter));u=b.length;d=!0;e=[];var A=B(),z=0;1<u&&(this.depth&&\"strict\"===this.f?n=!0:b.sort(qa));if(!n||(q=this.h)){const y=this.b;for(;z<u;z++){let t=b[z];if(t){if(n){if(!m)if(q[t])m=t,A[t]=1;else if(!p)return h;if(p&&z===u-1&&!e.length)n=!1,t=m||t,A[t]=0;else if(!m)continue}if(!A[t]){const v=[];let x=!1,I=0;const D=n?q[m]:this.i;if(D){let E;for(let N=0;N<y-f;N++)if(E=D[N]&&D[N][t])v[I++]=E,x=!0}if(x)m=t,e[e.length]=1<I?v.concat.apply([],v):v[0];else if(!p){d=!1;break}A[t]=\n1}}}}else d=!1;d&&(h=ha(e,c,l,p));this.cache&&this.j.set(a,h);return h}};w.prototype.find=function(a,c){return this.where(a,c,1)[0]||null};w.prototype.where=function(a,c,b,d){const e=this.l,f=[];let h=0;let g;var k;let l;if(G(a)){b||(b=c);var p=Object.keys(a);var n=p.length;g=!1;if(1===n&&\"id\"===p[0])return[e[a.id]];if((k=this.I)&&!d)for(var m=0;m<k.length;m++){var u=k[m],q=a[u];if(!C(q)){l=this.G[u][\"@\"+q];if(0===--n)return l;p.splice(p.indexOf(u),1);delete a[u];break}}k=Array(n);for(m=0;m<n;m++)k[m]=\np[m].split(\":\")}else{if(O(a)){c=d||Object.keys(e);b=c.length;for(p=0;p<b;p++)n=e[c[p]],a(n)&&(f[h++]=n);return f}if(C(c))return[e[a]];if(\"id\"===a)return[e[c]];p=[a];n=1;k=[a.split(\":\")];g=!0}d=l||d||Object.keys(e);m=d.length;for(u=0;u<m;u++){q=l?d[u]:e[d[u]];let A=!0;for(let z=0;z<n;z++){g||(c=a[p[z]]);const y=k[z],t=y.length;let v=q;if(1<t)for(let x=0;x<t;x++)v=v[y[x]];else v=v[y[0]];if(v!==c){A=!1;break}}if(A&&(f[h++]=q,b&&h===b))break}return f};w.prototype.info=function(){if(this.g)for(let a=0;a<\nthis.g;a++)this.m[a].postMessage({info:!0,id:this.id});else return{id:this.id,items:this.length,cache:this.cache&&this.cache.s?this.cache.s.length:!1,matcher:aa.length+(this.v?this.v.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&\"strict\"===this.f}};w.prototype.clear=function(){return this.destroy().init()};w.prototype.destroy=function(){this.cache&&(this.j.clear(),this.j=null);this.i=this.h=this.c=null;if(this.a){const a=this.a.keys;for(let c=\n0;c<a.length;c++)this.a.index[a[c]].destroy();this.a=this.l=null}return this};w.prototype.export=function(a){const c=!a||C(a.serialize)||a.serialize;if(this.a){const d=!a||C(a.doc)||a.doc;var b=!a||C(a.index)||a.index;a=[];let e=0;if(b)for(b=this.a.keys;e<b.length;e++){const f=this.a.index[b[e]];a[e]=[f.i,f.h,Object.keys(f.c)]}d&&(a[e]=this.l)}else a=[this.i,this.h,Object.keys(this.c)];c&&(a=JSON.stringify(a));return a};w.prototype.import=function(a,c){if(!c||C(c.serialize)||c.serialize)a=JSON.parse(a);\nconst b=B();if(this.a){var d=!c||C(c.doc)||c.doc,e=0;if(!c||C(c.index)||c.index){c=this.a.keys;const h=c.length;for(var f=a[0][2];e<f.length;e++)b[f[e]]=1;for(e=0;e<h;e++){f=this.a.index[c[e]];const g=a[e];g&&(f.i=g[0],f.h=g[1],f.c=b)}}d&&(this.l=G(d)?d:a[e])}else{d=a[2];for(e=0;e<d.length;e++)b[d[e]]=1;this.i=a[0];this.h=a[1];this.c=b}};const va=function(){const a=r(\"\\\\s+\"),c=r(\"[^a-z0-9 ]\"),b=[r(\"[-/]\"),\" \",c,\"\",a,\" \"];return function(d){return ca(Q(d.toLowerCase(),b))}}(),U={icase:function(a){return a.toLowerCase()},\nsimple:function(){const a=r(\"\\\\s+\"),c=r(\"[^a-z0-9 ]\"),b=r(\"[-/]\"),d=r(\"[\\u00e0\\u00e1\\u00e2\\u00e3\\u00e4\\u00e5]\"),e=r(\"[\\u00e8\\u00e9\\u00ea\\u00eb]\"),f=r(\"[\\u00ec\\u00ed\\u00ee\\u00ef]\"),h=r(\"[\\u00f2\\u00f3\\u00f4\\u00f5\\u00f6\\u0151]\"),g=r(\"[\\u00f9\\u00fa\\u00fb\\u00fc\\u0171]\"),k=r(\"[\\u00fd\\u0177\\u00ff]\"),l=r(\"\\u00f1\"),p=r(\"[\\u00e7c]\"),n=r(\"\\u00df\"),m=r(\" & \"),u=[d,\"a\",e,\"e\",f,\"i\",h,\"o\",g,\"u\",k,\"y\",l,\"n\",p,\"k\",n,\"s\",m,\" and \",b,\" \",c,\"\",a,\" \"];return function(q){q=Q(q.toLowerCase(),u);return\" \"===q?\"\":q}}(),advanced:function(){const a=\nr(\"ae\"),c=r(\"ai\"),b=r(\"ay\"),d=r(\"ey\"),e=r(\"oe\"),f=r(\"ue\"),h=r(\"ie\"),g=r(\"sz\"),k=r(\"zs\"),l=r(\"ck\"),p=r(\"cc\"),n=r(\"sh\"),m=r(\"th\"),u=r(\"dt\"),q=r(\"ph\"),A=r(\"pf\"),z=r(\"ou\"),y=r(\"uo\"),t=[a,\"a\",c,\"ei\",b,\"ei\",d,\"ei\",e,\"o\",f,\"u\",h,\"i\",g,\"s\",k,\"s\",n,\"s\",l,\"k\",p,\"k\",m,\"t\",u,\"t\",q,\"f\",A,\"f\",z,\"o\",y,\"u\"];return function(v,x){if(!v)return v;v=this.simple(v);2<v.length&&(v=Q(v,t));x||1<v.length&&(v=ca(v));return v}}(),extra:function(){const a=r(\"p\"),c=r(\"z\"),b=r(\"[cgq]\"),d=r(\"n\"),e=r(\"d\"),f=r(\"[vw]\"),h=r(\"[aeiouy]\"),\ng=[a,\"b\",c,\"s\",b,\"k\",d,\"m\",e,\"t\",f,\"f\",h,\"\"];return function(k){if(!k)return k;k=this.advanced(k,!0);if(1<k.length){k=k.split(\" \");for(let l=0;l<k.length;l++){const p=k[l];1<p.length&&(k[l]=p[0]+Q(p.substring(1),g))}k=k.join(\" \");k=ca(k)}return k}}(),balance:va},ua=function(){function a(c){this.clear();this.H=!0!==c&&c}a.prototype.clear=function(){this.cache=B();this.count=B();this.index=B();this.s=[]};a.prototype.set=function(c,b){if(this.H&&C(this.cache[c])){let d=this.s.length;if(d===this.H){d--;\nconst e=this.s[d];delete this.cache[e];delete this.count[e];delete this.index[e]}this.index[c]=d;this.s[d]=c;this.count[c]=-1;this.cache[c]=b;this.get(c)}else this.cache[c]=b};a.prototype.get=function(c){const b=this.cache[c];if(this.H&&b){var d=++this.count[c];const f=this.index;let h=f[c];if(0<h){const g=this.s;for(var e=h;this.count[g[--h]]<=d&&-1!==h;);h++;if(h!==e){for(d=e;d>h;d--)e=g[d-1],g[d]=e,f[e]=d;g[h]=c;f[c]=h}}}return b};return a}();return w}(function(){const K={},R=\"undefined\"!==typeof Blob&&\n\"undefined\"!==typeof URL&&URL.createObjectURL;return function(w,L,S,W,P){S=R?URL.createObjectURL(new Blob([\"(\"+S.toString()+\")()\"],{type:\"text/javascript\"})):w+\".min.js\";w+=\"-\"+L;K[w]||(K[w]=[]);K[w][P]=new Worker(S);K[w][P].onmessage=W;return K[w][P]}}()),this);\n","/*!\n    localForage -- Offline Storage, Improved\n    Version 1.9.0\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb || !idb.open) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support\n        // (see: https://github.com/pouchdb/pouchdb/issues/5572).\n        // Safari 10.1 shipped with fetch, we can use that to detect it.\n        // Note: this creates issues with `window.fetch` polyfills and\n        // overrides; see:\n        // https://github.com/localForage/localForage/issues/856\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            resolve(openreq.result);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback returns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openKeyCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openKeyCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = req.onblocked = function (err) {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(err);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n","import FlexSearch from 'flexsearch';\nimport * as localforage from \"localforage\";\n\nexport default class SearchinGhost {\n\n    /**\n     * Constructor and entry point of the library\n     * @param {Document} args \n     */\n    constructor(args) {\n        this.config = {\n            url: window.location.origin,\n            key: '',\n            version: 'v3',\n            loadOn: 'focus',\n            searchOn: 'keyup',\n            limit: 10,\n            inputId: ['search-bar'],\n            outputId: ['search-results'],\n            outputChildsType: 'li',\n            postsFields: ['title', 'url', 'excerpt', 'custom_excerpt', 'published_at', 'feature_image'],\n            postsExtraFields: ['tags'],\n            postsFormats: ['plaintext'],\n            indexedFields: ['title', 'string_tags', 'excerpt', 'plaintext'],\n            template: function(post) {\n                var o = `<a href=\"${post.url}\">`\n                if (post.feature_image) o += `<img src=\"${post.feature_image}\">`\n                o += '<section>'\n                if (post.tags.length > 0) {\n                    o += `<header>\n                            <span class=\"head-tags\">${post.tags[0].name}</span>\n                            <span class=\"head-date\">${post.published_at}</span>\n                          </header>`\n                } else {\n                    o += `<header>\n                            <span class=\"head-tags\">UNKNOWN</span>\n                            <span class=\"head-date\">${post.published_at}</span>\n                          </header>`\n                }\n                o += `<h2>${post.title}</h2>`\n                o += `</section></a>`\n                return o;\n            },\n            emptyTemplate: function() {},\n            customProcessing: function(post) {\n                if (post.tags) post.string_tags = post.tags.map(o => o.name).join(' ').toLowerCase();\n                return post;\n            },\n            date: {\n                locale: document.documentElement.lang || \"en-US\",\n                options: { year: 'numeric', month: 'short', day: 'numeric' }\n            },\n            cacheMaxAge: 1800,\n            onFetchStart: function() {},\n            onFetchEnd: function(posts) {},\n            onIndexBuildStart: function() {},\n            onIndexBuildEnd: function(index) {},\n            onSearchStart: function() {},\n            onSearchEnd: function(posts) {},\n            indexOptions: {},\n            searchOptions: {},\n            debug: false\n        }\n        \n        this.dataLoaded = false;  // flag to ensure data are properly loaded\n        this.postsCount = 0;      // keep track of posts ID, must be numeric\n        this.storage = localforage;\n\n        this.initConfig(args);\n        this.triggerDataLoad();\n    }\n\n    /**\n     * Apply the user configuration and initialize important variables\n     * @param {Document} args \n     */\n    initConfig(args) {\n        for (let [key, value] of Object.entries(args)) {\n            this.config[key] = value;\n        }\n\n        // ensure config backward compatilibity of <1.5.0\n        if (!Array.isArray(this.config.inputId)) this.config.inputId = [this.config.inputId];\n        if (!Array.isArray(this.config.outputId)) this.config.outputId = [this.config.outputId];\n\n        // Inject the \"limit\" arg within the final searchOptions\n        this.config.searchOptions.limit = this.config.limit;\n\n        // Ensure 'updated_at' will be fetched, needed for the local storage logic\n        this.originalPostsFields = this.config.postsFields;\n        if (!this.config.postsFields.includes('updated_at')) {\n            this.config.postsFields.push('updated_at');\n        }\n\n        if (this.config.inputId && this.config.inputId.length > 0) {\n            this.searchBarEls = [];\n            this.config.inputId.forEach(id => {\n                let searchBar = document.getElementById(id);\n                if (searchBar) {\n                    this.searchBarEls.push(searchBar);\n                    this.addSearchListeners(searchBar);\n                } else {\n                    this.error(`Enable to find the input element #${id}, please check your configuration`);\n                }\n            });\n        }\n\n        if (this.config.outputId && this.config.outputId.length > 0) {\n            this.searchResultEls = [];\n            this.config.outputId.forEach(id => {\n                let searchResult = document.getElementById(id);\n                if (searchResult) {\n                    this.searchResultEls.push(searchResult)\n                } else {\n                    this.error(`Enable to find the output element #${id}, please check your configuration`);\n                }\n            });\n        }\n\n        this.index = this.getNewSearchIndex();\n    }\n\n    /**\n     * Set the search input bar and form event listeners to trigger\n     * further searches\n     */\n    addSearchListeners(searchBarEl) {\n        // In any case, prevent the input form from being submitted\n        let searchForm = searchBarEl.closest('form');\n        if (searchForm) searchForm.addEventListener(\"submit\", (ev) => { ev.preventDefault(); });\n\n        switch(this.config.searchOn) {\n        case 'keyup':\n            searchBarEl.addEventListener(\"keyup\", () => {\n                let inputQuery = searchBarEl.value.toLowerCase();\n                this.search(inputQuery);\n            });\n            break;\n        case 'submit':\n            searchForm.addEventListener(\"submit\", () => {\n                let inputQuery = searchBarEl.value.toLowerCase();\n                this.search(inputQuery);\n            });\n            break;\n        case false:\n        case 'none':\n            // do nothing\n            break;\n        default:\n            this.error(`Unknown \"searchOn\" option: '${this.config.searchOn}'`);\n        }\n    }\n\n    /**\n     * Set triggers to load the posts data when ready\n     */\n    async triggerDataLoad() {\n        switch(this.config.loadOn) {\n        case 'focus':\n            this.searchBarEls.forEach(searchBarEl => {\n                searchBarEl.addEventListener('focus', async () => {\n                    await this.loadData();\n                });\n            })\n            break;\n        case 'page':\n            window.addEventListener('load', async () => {\n                await this.loadData();\n            });\n            break;\n        case false:\n        case 'none':\n            // do nothing\n            break;\n        default:\n            this.error(`Unknown \"loadOn\" option: '${this.config.loadOn}'`);\n        }\n    }\n\n    /**\n     * Actually load the data into a searchable index.\n     * When this method is completed, we are ready to launch search queries.\n     */\n    async loadData() {\n        if (this.dataLoaded) return;\n\n        if (!this.storage) {\n            this.log(\"No local storage available, switch to degraded mode\");\n            this.fetch();\n            return;\n        }\n\n        let storedIndex = await this.storage.getItem(\"SearchinGhost_index\");\n        if (storedIndex) {\n            this.log(\"Found an index stored locally, loads it\");\n            this.config.onIndexBuildStart();\n            this.index.import(storedIndex);\n            this.dataLoaded = true;\n            this.config.onIndexBuildEnd(this.index);\n            await this.validateCache();\n        } else {\n            this.log(\"No already stored index found\");\n            this.fetch();\n        }\n    }\n\n    /**\n     * Ensure stored data are up to date.\n     */\n    async validateCache() {\n        let cacheInfoString = await this.storage.getItem(\"SearchinGhost_cache_info\");\n        if (!cacheInfoString) {\n            this.log(\"No cache info local object found\");\n            this.fetch();\n            return;\n        }\n\n        let cacheInfo = JSON.parse(cacheInfoString);\n\n        const lastUpdate = new Date(cacheInfo.lastCacheCheck);\n        const elapsedTime = Math.round((new Date() - lastUpdate) / 1000);\n        if (elapsedTime < this.config.cacheMaxAge) {\n            this.log(`Skip cache refreshing, updated less than ${this.config.cacheMaxAge}s ago (${elapsedTime}s)`);\n            return;\n        }\n\n        const browseOptions = {\n            limit: 1,\n            fields: ['updated_at'],\n            order: 'updated_at DESC'\n        };\n        const lastUpdatedPostUrl = this.buildUrl(browseOptions);\n        fetch(lastUpdatedPostUrl)\n            .then(function(response) {\n                return response.json();\n            })\n            .then((jsonResponse) => {\n                const lastestPostUpdatedAt = jsonResponse.posts[0].updated_at;\n                const totalPosts = jsonResponse.meta.pagination.total;\n\n                if (lastestPostUpdatedAt !== cacheInfo.lastestPostUpdatedAt) {\n                    this.log(\"Posts update found, purge outdated local cache\");\n                    this.fetch();\n                } else if (totalPosts < cacheInfo.totalPosts) {\n                    this.log(\"Deleted or unpublished posts found, purge outdated local cache\")\n                    this.fetch();\n                } else {\n                    this.log(\"Local cached data up to date\");\n                    cacheInfo.lastCacheCheck = new Date().toISOString();\n                    this.storage.setItem(\"SearchinGhost_cache_info\", JSON.stringify(cacheInfo));\n                }\n            }).catch((error) => {\n                console.error(\"Unable to fetch the latest post information to check cache state\", error);\n            });\n    }\n\n    /**\n     * Fetch, format and store posts data from Ghost.\n     */\n    fetch() {\n        this.log(\"Fetching data from Ghost API\");\n        this.config.onFetchStart();\n\n        const browseOptions = {\n            limit: 'all',\n            fields: this.config.postsFields,\n            order: 'updated_at DESC'\n        }\n        if (this.config.postsExtraFields.length > 0) browseOptions.include = this.config.postsExtraFields;\n        if (this.config.postsFormats.length > 0) browseOptions.formats = this.config.postsFormats;\n\n        const allPostsUrl = this.buildUrl(browseOptions);\n        fetch(allPostsUrl)\n            .then(function(response) {\n                return response.json();\n            })\n            .then((jsonResponse) => {\n                const posts = jsonResponse.posts;\n                this.config.onFetchEnd(posts);\n                this.config.onIndexBuildStart();\n                \n                this.index = this.getNewSearchIndex();\n                posts.forEach((post) => {\n                    let formattedPost = this.format(post);\n                    if (formattedPost) this.index.add(formattedPost);\n                });\n\n                this.dataLoaded = true;\n                this.config.onIndexBuildEnd(this.index);\n\n                if (this.storage) {\n                    const cacheInfo = {\n                        lastCacheCheck: new Date().toISOString(),\n                        lastestPostUpdatedAt: posts[0].updated_at,\n                        totalPosts: jsonResponse.meta.pagination.total\n                    }\n                    this.storage.setItem(\"SearchinGhost_index\", this.index.export());\n                    this.storage.setItem(\"SearchinGhost_cache_info\", JSON.stringify(cacheInfo));\n                }\n\n                this.log(\"Search index build complete\");\n            })\n            .catch((error) => {\n                this.error(\"Unable to fetch Ghost data.\\n\", error);\n            });\n    }\n\n    /**\n     * Format a post document before being indexed.\n     * @param {Document} post \n     * @return {Document} The formatted post\n     */\n    format(post) {\n        // Need to use a numeric ID to improve performance & disk space\n        post.id = this.postsCount++;\n\n        // display date using 'locale' format\n        post.published_at = this.prettyDate(post.published_at);\n\n        // only used to keep track of the last fetch time,\n        // remove it before indexing BUT only if not wanted by the user\n        if (!this.originalPostsFields.includes('updated_at')) {\n            delete post.updated_at;\n        }\n\n        if (post.custom_excerpt) {\n            post.excerpt = post.custom_excerpt;\n            delete post.custom_excerpt;\n        }\n\n        post = this.config.customProcessing(post);\n\n        return post;\n    }\n\n    /**\n     * Execute a search query.\n     * @param {string} inputQuery \n     */\n    async search(inputQuery) {\n        await this.loadData();\n\n        this.config.onSearchStart();\n\n        let postsFound = this.index.search(inputQuery, this.config.searchOptions);\n\n        if (this.searchResultEls && this.searchResultEls.length > 0) this.display(postsFound);\n\n        this.config.onSearchEnd(postsFound);\n        return postsFound;\n    }\n\n    /**\n     * Display the results as HTML into the configured DOM output element.\n     * @param {Document[]} posts \n     */\n    display(posts) {\n        this.searchResultEls.forEach(resultEl => {\n            resultEl.innerHTML = '';\n        });\n        \n        if (posts.length < 1) {\n            this.insertTemplate(this.config.emptyTemplate());\n        } else {\n            posts.forEach(post => {\n                this.insertTemplate(this.config.template(post));\n            });\n        }\n    }\n\n    /**\n     * Insert the HTML generated by the template into the DOM results output element.\n     * If a falsy value is returned by the template, do not apply any update.\n     * @param {*} generatedHtml HTML node element or HTML string\n     */\n    insertTemplate(generatedHtml) {\n        if (generatedHtml) {\n            this.searchResultEls.forEach(resultEl => {\n                if (this.config.outputChildsType) {\n                    let child = document.createElement(this.config.outputChildsType);\n                    child.classList.add(`${resultEl.id}-item`);\n                    child.innerHTML = generatedHtml;\n                    resultEl.appendChild(child);\n                } else {\n                    resultEl.insertAdjacentHTML('beforeend', generatedHtml);\n                }\n            });\n        }\n    }\n\n    /**\n     * Get a new instance of FlexSearch.\n     * @return {FlexSearch} The instance of FlexSearch.\n     */\n    getNewSearchIndex() {\n        const indexConfig = {\n            doc: {\n                id: \"id\",\n                field: this.config.indexedFields\n            },\n            encode: \"simple\",\n            tokenize: \"forward\",\n            threshold: 0,\n            resolution: 4,\n            depth: 0\n        }\n\n        for (let [key, value] of Object.entries(this.config.indexOptions)) {\n            indexConfig[key] = value;\n        }\n        \n        return new FlexSearch(indexConfig);\n    }\n\n    /**\n     * Build the final Ghost API URL resources based on options.\n     * @param {Document} options the Ghost API browse options\n     * @return {string} the url\n     */\n    buildUrl(options) {\n        let url = `${this.config.url}/ghost/api/${this.config.version}/content/posts/?key=${this.config.key}`;\n        for (const [key, value] of Object.entries(options)) {\n            url += `&${key}=${value}`;\n        }\n        return encodeURI(url);\n    }\n\n    /**\n     * Get the date in the locale expected format.\n     * @param {string} date \n     * @return {string} The formatted date\n     */\n    prettyDate(date) {\n        let d = new Date(date);\n        return d.toLocaleDateString(this.config.date.locale, this.config.date.options);\n    }\n\n    /**\n     * Safely get the local storage object if available.\n     * If the user browser disabled it, get `undefined` instead.\n     * @return {Storage} The storage object or `undefined`\n     */\n    getLocalStorageOption() {\n        try {\n            window.localStorage.setItem('storage-availability-test', '');\n            window.localStorage.removeItem('storage-availability-test');\n            return window.localStorage;\n        } catch(err) {\n            return undefined;\n        }\n    }\n\n    /**\n     * Simple logging function.\n     * Output logs only if `debug` is set to `true`.\n     * @param {string} str the text to output\n     * @param {*} obj optional object to output\n     */\n    log(str, obj) {\n        if (this.config.debug) obj ? console.log(str, obj) : console.log(str);\n    }\n\n    /**\n     * Simple \"error\" level logging function.\n     * @param {string} str the text to output\n     * @param {*} obj optional object to output\n     */\n    error(str, obj) {\n        obj ? console.error(str, obj) : console.error(str);\n    }\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}